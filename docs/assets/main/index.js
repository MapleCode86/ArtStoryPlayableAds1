window.__require=function t(e,n,o){function c(r,s){if(!n[r]){if(!e[r]){var i=r.split("/");if(i=i[i.length-1],!e[i]){var l="function"==typeof __require&&__require;if(!s&&l)return l(i,!0);if(a)return a(i,!0);throw new Error("Cannot find module '"+r+"'")}r=i}var h=n[r]={exports:{}};e[r][0].call(h.exports,function(t){return c(e[r][1][t]||t)},h,h.exports,t,e,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)c(o[r]);return c}({Constants:[function(t,e){"use strict";cc._RF.push(e,"20ef0pi+UNMFIunVvkV7FdY","Constants"),e.exports={TIME_PROGRESS_ANIMATION:.5,TIME_FX_SHOW_OBJECT:.7,OFFSET_HEIGHT_BETWEEN_SCROLL_OBJECT:50,OFFSET_WIDTH_BETWEEN_SCROLL_OBJECT:25,PERCENT_FILL_TARGET:.1,TIME_ANIMATION_DRAG_OBJECT:.3,TIME_ANIMATION_DRAG_OBJECT_BACK_TO_SCROLL:.35,TIME_ANIMATION_OF_GL:.5,DISTANCE_DRAG_OBJECT_WITH_TOUCH:300,DISTANCE_CAN_DRAG_OBJECT:100,SCALE_OBJECT_TO:1.05,SCALE_OBJECT_BACK:1,DURATION_SCALE_OBJECT:.2,DURATION_FADE_OBJECT:.5,TIME_TO_SHOW_TUTORIAL:1,EVENT_STOP_HAND:"StopHand",EVENT_END_DRAG:"EndDrag"},cc._RF.pop()},{}],DragObject:[function(t,e){"use strict";cc._RF.push(e,"9e895nPj9hIP7Yllb4pkLDn","DragObject");var n=t("GameManager"),o=t("NodeHelper"),c=t("./Constants");cc.Class({extends:cc.Component,properties:{targetObject:cc.Node,sourceObject:cc.Node,trsNew:cc.Node,trsOld:cc.Node,localScale:1,isFilled:!1,tween:cc.Tween,widhtTrsOld:cc.Integer},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onMoveTouch,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this),this.trsOld=this.node.parent,this.widhtTrsOld=this.trsOld.width},start:function(){},init:function(t,e,n,o,c){this.sourceObject=t,this.targetObject=e,this.node.getComponent(cc.Sprite).spriteFrame=n;var a=n.getOriginalSize();a.width>a.height?this.localScale=o/a.width:this.localScale=o/a.height,this.localScale>1&&(this.localScale=1),this.node.setScale(this.localScale),this.isFilled=!1,this.trsNew=c},onTouchStart:function(){this.isFilled||(this.isDrag=!0,this.offsetY=0,this.createEventHandle(n.Instance.puzzleController,c.EVENT_STOP_HAND))},onMoveTouch:function(t){if(this.offsetY+=Math.abs(t.getDelta().y),this.offsetY>c.DISTANCE_CAN_DRAG_OBJECT){if(!this.isDrag||this.isFilled)return;this.node.parent!=this.trsNew&&(this.node.parent=this.trsNew,this.tween&&this.tween.stop(),cc.tween(this.trsOld).to(c.TIME_ANIMATION_DRAG_OBJECT,{width:0}).start(),this.tween=cc.tween(this.node).to(c.TIME_ANIMATION_DRAG_OBJECT,{scale:1}).start());var e=t.getLocation();e=this.node.parent.convertToNodeSpaceAR(e),this.node.x=e.x,this.node.y=e.y+c.DISTANCE_DRAG_OBJECT_WITH_TOUCH,this.CheckFillTarget()}},onTouchEnd:function(){cc.log("Touch End"),this.onEndDrag()},onTouchCancel:function(){this.offsetY>c.DISTANCE_CAN_DRAG_OBJECT&&(cc.log("Touch Cancel"),this.onEndDrag())},CheckFillTarget:function(){var t=this;if(this.targetObject.getComponent("TargetObject2D").indexLayer==n.Instance.puzzleController.getComponent("PuzzleController").GetIndexLayer()){var e=cc.Vec2(this.sourceObject.node.position.x-this.node.position.x,this.sourceObject.node.position.y-this.node.position.y),o=this.node.height>this.node.width?this.node.height:this.node.width;e.mag()/o<=c.PERCENT_FILL_TARGET&&(this.isDrag=!1,this.node.x=this.sourceObject.node.position.x,this.node.y=this.sourceObject.node.position.y,this.targetObject.getComponent("TargetObject2D").Hide(),n.Instance.puzzleController.getComponent("PuzzleController").UpdateProgression(),this.node.active=!1,this.sourceObject.node.active=!0,cc.tween(this.sourceObject.node).to(c.DURATION_SCALE_OBJECT,{scale:c.SCALE_OBJECT_TO}).to(c.DURATION_SCALE_OBJECT,{scale:c.SCALE_OBJECT_BACK}).to(c.DURATION_FADE_OBJECT,{opacity:0}).delay(.5).to(c.DURATION_FADE_OBJECT,{opacity:255}).call(function(){t.sourceObject.node.opacity=255}).start(),this.trsOld.enable=!1,this.isFilled=!0,this.createEventHandle(n.Instance.puzzleController,c.EVENT_END_DRAG))}},GetSpriteComponent:function(){return this.getComponent("Sprite")},onEndDrag:function(){cc.log("onEndDrag "),this.isDrag=!1,this.createEventHandle(n.Instance.puzzleController,c.EVENT_END_DRAG),this.isFilled||(o.setParentWorldPosStays(this.node,this.trsOld,!1,!1),cc.tween(this.trsOld).to(c.TIME_ANIMATION_DRAG_OBJECT,{width:this.widhtTrsOld}).start(),cc.log("onEndDrag "+this.trsOld.name+"-"+this.trsOld.parent.name),this.tween&&this.tween.stop(),this.tween=cc.tween(this.node).to(c.TIME_ANIMATION_DRAG_OBJECT_BACK_TO_SCROLL,{scale:this.localScale,position:cc.v2(0,0)}).start())},createEventHandle:function(t,e){if(null!==t){var n=new cc.Component.EventHandler;n.target=t,n.component="PuzzleController",n.handler="handleCallback",n.emit([e])}}}),cc._RF.pop()},{"./Constants":"Constants",GameManager:"GameManager",NodeHelper:"NodeHelper"}],FXShowObject:[function(t,e){"use strict";cc._RF.push(e,"870ecP89mdG4LjBN/ODLAcz","FXShowObject");var n=t("./Constants");cc.Class({extends:cc.Component,properties:{Speed:cc.Float},onLoad:function(){this.Sprite=this.node.getComponent(cc.Sprite),this.Material=this.Sprite.getMaterial(0),this.FadeAmount=n.TIME_FX_SHOW_OBJECT,this.StartShow=!1},start:function(){},SetSpriteFrame:function(t,e){cc.log("set sprite frame "+t),this.Sprite.spriteFrame=t,this.sourceObject=e},ShowObject:function(t){cc.log("show object "),this.node.active=!0,this.FadeAmount=n.TIME_FX_SHOW_OBJECT,this.StartShow=!0,this.onShowComplete=t},update:function(t){if(this.StartShow)return this.FadeAmount-=t*this.Speed,this.FadeAmount<0?(this.StartShow=!1,void(null!=this.sourceObject&&(this.node.active=!1,this.sourceObject.node.opacity=255,null!=this.onShowComplete&&this.onShowComplete()))):void 0}}),cc._RF.pop()},{"./Constants":"Constants"}],GameManager:[function(t,e){"use strict";cc._RF.push(e,"bd0far+Up1F/p+0PwI2jLLC","GameManager");var n=cc.Class({extends:cc.Component,properties:{facebookPlayable:!0,ios_url:"https://play.google.com/store/apps/details?id=com.s.m.future.memorynumber",android_url:"https://play.google.com/store/apps/details?id=gamerous.fruitlinksaga",spawnPuzzle:cc.Node,puzzlePrefab:cc.Prefab,dragObjectPrefab:cc.Prefab,puzzleController:cc.Node,fxShowObject:cc.Node,m_Hand:cc.Node,dragObjectManager:cc.Node,uiEndGame:cc.Node},statics:{Instance:null},onLoad:function(){n.Instance=this,cc.game.setFrameRate(60),cc.game.addPersistRootNode(this.node),this.fxObject=this.fxShowObject.getComponent("FXShowObject"),this.m_Hand=this.m_Hand.getComponent("HandController"),window.FACEBOOK_PLAYABLE=this.facebookPlayable,window.PLAYABLE_URL_ANDROID=this.android_url,window.PLAYABLE_URL_IOS=this.ios_url,cc.debug.setDisplayStats(!1)},start:function(){this.InitPuzzle()},update:function(){},InitPuzzle:function(){var t=this.puzzleController.getComponent("PuzzleController");t.PreInit(this.puzzlePrefab),t.Init()},FxShowObject:function(t,e,n){this.fxObject.node.position=t,this.fxObject.SetSpriteFrame(e.spriteFrame,e),this.fxObject.ShowObject(n)},ShowUIEndGame:function(){this.uiEndGame.active=!0}});cc._RF.pop()},{}],HandController:[function(t,e){"use strict";cc._RF.push(e,"d0594SX551PgIXmKSmUzKZa","HandController"),cc.Class({extends:cc.Component,properties:{isShowing:!1,tween:cc.Tween},start:function(){},update:function(){},startMove:function(t,e){var n=this;this.node.active=!0,this.node.position=t,this.tween=cc.tween(this.node).to(.2,{opacity:255}).call(function(){n.isShowing?n.tween=cc.tween(n.node).to(1,{position:e}).call(function(){n.tween=cc.tween(n.node).delay(.5).to(.2,{opacity:0}).call(function(){n.startMove(t,e)}).start()}).start():n.stop()}).start()},stop:function(){this.node.active=!1,this.isShowing&&(this.isShowing=!1,this.tween&&this.tween.stop(),this.tween=cc.tween(this.node).to(.2,{opacity:0}).start())}}),cc._RF.pop()},{}],LayerInfo:[function(t,e){"use strict";cc._RF.push(e,"962f63RyENEXZwdz1gIeIqM","LayerInfo");var n=t("GameManager"),o=t("UIGameplay");cc.Class({properties:{indexLayer:-1,isDone:!1,targetObjects:[cc.Node]},Enable:function(t){for(var e=0;e<this.targetObjects.length;e++)t?this.targetObjects[e].Show():this.targetObjects[e].Hide()},GetTotalObj:function(){return this.targetObjects.length},UpdateStageLayer:function(){var t=!0;cc.log("Layer: "+this.indexLayer+", All Object: "+this.targetObjects.length);for(var e=0;e<this.targetObjects.length;e++)if(0==this.targetObjects[e].isDoneTarget){t=!1;break}this.UpdateProgressData(),this.isDone=t,t&&n.Instance.puzzleController.getComponent("PuzzleController").UpdateStagePuzzle()},UpdateProgressData:function(){for(var t=0,e=0;e<this.targetObjects.length;e++)this.targetObjects[e].isDoneTarget&&t++;cc.log(t),o.Instance.getComponent("UIGameplay").updateProgress(t)}}),cc._RF.pop()},{GameManager:"GameManager",UIGameplay:"UIGameplay"}],NodeHelper:[function(t,e){"use strict";cc._RF.push(e,"ca603umXgRFkKLFBsCtrtlG","NodeHelper");var n=cc.Class({extends:cc.Component,statics:{copyWorldPosition:function(t,e,o,c,a){var r=t.parent,s=e.parent.convertToWorldSpaceAR(e.position),i=r.convertToNodeSpaceAR(s);if(t.setPosition(i),o){var l=n.getGlobalScale(r),h=n.getGlobalScale(e);t.scale=h/l}if(c){var d=n.getGlobalRotation(r),p=n.getGlobalRotation(e);t.angle=p-d}a&&t.setAnchorPoint(e.getAnchorPoint())},setParentWorldPosStays:function(t,e,o,c){var a=t.parent,r=a.convertToWorldSpaceAR(t.position);if(t.parent=e,t.position=e.convertToNodeSpaceAR(r),o){var s=n.getGlobalScale(a),i=n.getGlobalScale(e);Math.abs(s-i)>Number.EPSILON&&(t.scale=t.scale*s/i)}if(c){var l=n.getGlobalRotation(a),h=n.getGlobalRotation(e);Math.abs(l-h)>Number.EPSILON&&(t.angle=t.angle+l-h)}},getGlobalScale:function(t){for(var e=1,n=t;n;)e*=n.scale,n=n.parent;return e},getGlobalRotation:function(t){for(var e=t.angle,n=t.parent;n;)e+=n.angle,n=n.parent;return e}}});cc._RF.pop()},{}],OrientationHelper:[function(t,e){"use strict";cc._RF.push(e,"bdf40Ca4e5FB7x5MV/QYT+/","OrientationHelper"),cc.Class({extends:cc.Component,properties:{game:cc.Node},start:function(){cc.log("orientation")},OrientationChanged:function(){cc.log("orientaton changed ")}}),cc._RF.pop()},{}],ProgressBar:[function(t,e){"use strict";cc._RF.push(e,"f17f6TolVFM37iBP1MfHxJP","ProgressBar");var n=t("../Constants");cc.Class({extends:cc.Component,properties:{m_BarSprite:cc.Sprite,m_DotContainer:cc.Node,m_DotPrefab:cc.Prefab,m_Dots:[],m_totalObject:0,curLayer:0,m_Tween:cc.tween},onLoad:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},setProgress:function(t){cc.log("total dot: "+t),this.m_totalObject=t,this.reset(),this.initDots(t-1);for(var e=this.node.width/t,n=this.m_Dots[0].width/2,o=0;o<this.m_Dots.length;o++)this.m_Dots[o].x=(o+1)*e-n-this.node.width/2,this.m_Dots[o].active=!0},updateProgress:function(t){null!=this.m_Tween&&(this.m_Tween.stop(),this.m_Tween=void 0),cc.log(t+"-"+this.m_totalObject);var e=t/this.m_totalObject;cc.log("Target Amount: "+e),this.m_Tween=cc.tween(this.m_BarSprite).to(n.TIME_PROGRESS_ANIMATION,{fillRange:e}).start()},initDots:function(t){if(this.m_Dots.length<t)for(var e=t-this.m_Dots.length,n=0;n<e;n++){var o=cc.instantiate(this.m_DotPrefab);this.m_DotContainer.addChild(o),this.m_Dots.push(o)}},reset:function(){for(var t=0;t<this.m_Dots.length;t++)this.m_Dots[t].active=!1;this.m_BarSprite.fillRange=0},onKeyDown:function(t){switch(t.keyCode){case cc.macro.KEY.a:this.curLayer++,this.updateProgress(this.curLayer)}}}),cc._RF.pop()},{"../Constants":"Constants"}],PuzzleController:[function(t,e){"use strict";cc._RF.push(e,"78ae1bnyFlJVLqQo8DOq6WV","PuzzleController");var n=t("LayerInfo"),o=t("GameManager"),c=t("UIGameplay"),a=t("./Constants");cc.Class({extends:cc.Component,properties:{m_SpriteSource:[cc.Sprite],m_SpriteTarget:[cc.Sprite],m_PuzzleInitData:cc.Node,layers:[],currentLayerIndex:0,totalObj:0},onLoad:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.currentTargetIndex=0,this.currentTimeToShowTutorial=a.TIME_TO_SHOW_TUTORIAL},start:function(){},update:function(t){this.currentTimeToShowTutorial>0&&(this.currentTimeToShowTutorial-=t,this.currentTimeToShowTutorial<=0&&c.Instance.getComponent("UIGameplay").runTutorial())},onKeyDown:function(t){switch(t.keyCode){case cc.macro.KEY.a:}},SpawnDragObject:function(){var t=cc.instantiate(o.Instance.dragObjectPrefab);this.node.parent.addChild(t),cc.log("Test: "+this.layers[this.currentLayerIndex].targetObjects[this.currentTargetIndex].name),t.getComponent("DragObject").targetObject=this.layers[this.currentLayerIndex].targetObjects[this.currentTargetIndex],t.getComponent("DragObject").sourceObject=this.m_SpriteSource[this.currentTargetIndex],t.getComponent(cc.Sprite).spriteFrame=this.m_SpriteSource[this.currentTargetIndex].spriteFrame},PreInit:function(t){if(this.currentLayerIndex=0,t){var e=cc.instantiate(t);this.m_PuzzleInitData=e.getComponent("PuzzleInitData"),this.m_PuzzleInitData.Init(),this.m_SpriteSource=this.m_PuzzleInitData.m_SpriteSource,this.m_SpriteTarget=this.m_PuzzleInitData.m_SpriteTarget,this.node.addChild(e);for(var o=e.getChildByName("GL").children,a=0;a<o.length;a++){for(var r=new n,s=o[a].children,i=0;i<s.length;i++){var l=s[i].getComponent("TargetObject2D");l.indexLayer=a,r.targetObjects.push(l)}r.indexLayer=a,this.layers.push(r)}this.layers[this.currentLayerIndex].Enable(!0),this.totalObj=this.m_SpriteSource.length,o.forEach(function(t){var e=t.position;cc.log(o.length+", "+t.name+" , "+e)}),c.Instance.getComponent("UIGameplay").initPuzzle(this,this.m_SpriteSource,this.m_SpriteTarget),c.Instance.getComponent("UIGameplay").setProgress(this.layers[this.currentLayerIndex].GetTotalObj())}},Init:function(){},UpdateProgression:function(){this.currentTargetIndex++,c.Instance.getComponent("UIGameplay").updateProgression(this.currentTargetIndex,this.totalObj),this.layers[this.currentLayerIndex].UpdateStageLayer()},UpdateStagePuzzle:function(){var t=this;0==this.CheckDonePuzzle()?(this.currentLayerIndex++,this.scheduleOnce(function(){t.layers[t.GetIndexLayer()].Enable(!0),c.Instance.getComponent("UIGameplay").setProgress(t.layers[t.currentLayerIndex].GetTotalObj())},1)):(cc.log("WIN"),this.scheduleOnce(this.ShowEndGame,1.5))},ShowEndGame:function(){o.Instance.ShowUIEndGame()},CheckDonePuzzle:function(){var t=!0;return cc.log(this.layers.length+"---------------"),this.layers.forEach(function(e){cc.log("Layer is done: "+e.isDone),0==e.isDone&&(cc.log("layer: false"),t=!1)}),t},GetIndexLayer:function(){return this.currentLayerIndex},GetNameTarget:function(t){for(var e=0;e<this.m_SpriteTarget.length;e++)if(this.m_SpriteTarget[e].node.name==t)return this.m_SpriteSource[e].node.name;return""},handleCallback:function(t){t===a.EVENT_STOP_HAND&&(c.Instance.getComponent("UIGameplay").stopHand(),this.currentTimeToShowTutorial=-1),t===a.EVENT_END_DRAG&&(this.currentTimeToShowTutorial=a.TIME_TO_SHOW_TUTORIAL)}}),cc._RF.pop()},{"./Constants":"Constants",GameManager:"GameManager",LayerInfo:"LayerInfo",UIGameplay:"UIGameplay"}],PuzzleInitData:[function(t,e){"use strict";cc._RF.push(e,"125e5MN9ZlKP6Y4+DMgDgFv","PuzzleInitData"),cc.Class({extends:cc.Component,properties:{m_NamePuzzle:"",m_SpriteSource:[cc.Sprite],m_SpriteTarget:[cc.Sprite],m_spriteFinishObject:[cc.Sprite]},onLoad:function(){},start:function(){},Init:function(){}}),cc._RF.pop()},{}],ScrollObjectManager:[function(t,e){"use strict";cc._RF.push(e,"9596aDr4bNANatawql5++nW","ScrollObjectManager");var n=t("../Constants"),o=t("../GameManager");cc.Class({extends:cc.Component,properties:{m_TrsContent:cc.Node,m_ObjectItemPrefab:cc.Prefab,m_ScrollView:cc.ScrollView,m_ObjectItems:[cc.Node]},start:function(){},createObjectItemUI:function(t,e,c){var a=e.length,r=this.randomIndexList(a),s=this.node.height-n.OFFSET_HEIGHT_BETWEEN_SCROLL_OBJECT;cc.log("randomIndexes: "+r.length);for(var i=0;i<a;i++){var l=cc.instantiate(this.m_ObjectItemPrefab);l.enable=!0,l.name=e[r[i]].getComponent(cc.Sprite).spriteFrame.name,l.height=s,l.width=s+n.OFFSET_WIDTH_BETWEEN_SCROLL_OBJECT,this.m_TrsContent.addChild(l),l.getComponent("UIObjectItem").dragObject.getComponent("DragObject").init(e[r[i]],c[r[i]],e[r[i]].spriteFrame,s-20,o.Instance.dragObjectManager),this.m_ObjectItems.push(l)}this.m_ScrollView.scrollToLeft()},randomIndexList:function(t){for(var e,n=[],o=[],c=0;c<t;c++)o.push(c);for(;0!=o.length;)e=cc.math.randomRangeInt(0,o.length),n.push(o[e]),o.splice(e,1);return n},scrollToIndex:function(t,e){cc.log("Max: "+this.m_ScrollView.getMaxScrollOffset().x),this.m_ScrollView.scrollToOffset(cc.v2(t.x-200-this.node.width/2,0),e)},getObjectPosition:function(t){return this.m_ObjectItems[t].getComponent("UIObjectItem").dragObject.convertToWorldSpaceAR(cc.v2(0,0))}}),cc._RF.pop()},{"../Constants":"Constants","../GameManager":"GameManager"}],TargetObject2D:[function(t,e){"use strict";cc._RF.push(e,"db965ojwy1PiLTS4cevD/nM","TargetObject2D");var n=t("./Constants");cc.Class({extends:cc.Component,properties:{indexLayer:0,nameTargetObject:"",isDoneTarget:!1},Show:function(){cc.log("show"),this.node.active=!0,this.node.opacity=0,cc.tween(this.node).to(n.TIME_ANIMATION_OF_GL,{opacity:255}).start()},Hide:function(){var t=this;cc.log("hide"),this.node.opacity=255,cc.tween(this.node).to(n.TIME_ANIMATION_OF_GL,{opacity:0}).call(function(){t.node.active=!1}).start(),this.SetDone(!0)},SetDone:function(t){this.isDoneTarget=t}}),cc._RF.pop()},{"./Constants":"Constants"}],UIEndGame:[function(t,e){"use strict";cc._RF.push(e,"c3e2e0V/uFOhK9zoOcn5Ac5","UIEndGame"),cc.Class({extends:cc.Component,properties:{},start:function(){},doLetDoit:function(){window.FACEBOOK_PLAYABLE?"undefined"==typeof FbPlayableAd?console.log("Facebook ad not defined"):FbPlayableAd.onCTAClick():"undefined"==typeof mraid?console.log("Click ad Unity mraid not defined"):(cc.sys.os==cc.sys.OS_ANDROID&&mraid.open(window.PLAYABLE_URL_ANDROID),cc.sys.os==cc.sys.OS_IOS&&mraid.open(window.PLAYABLE_URL_IOS))}}),cc._RF.pop()},{}],UIGameplay:[function(t,e){"use strict";cc._RF.push(e,"07609xb6glGzbvm0r4/CgmG","UIGameplay");var n=t("../GameManager"),o=cc.Class({extends:cc.Component,properties:{m_ProgressionLbl:cc.Label,m_ScrollObjectManager:cc.Node,m_ProgressBar:cc.Node},statics:{Instance:cc.Node},onLoad:function(){o.Instance=this.node,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},start:function(){},initPuzzle:function(t,e,n){cc.log(e.length+" ----------------- "+n.length),this.m_ScrollObjectManager.getComponent("ScrollObjectManager").createObjectItemUI(t,e,n),this.updateProgression(0,e.length)},updateProgression:function(t,e){this.m_ProgressionLbl.string=t+" / "+e},setProgress:function(t){this.m_ProgressBar.getComponent("ProgressBar").setProgress(t)},updateProgress:function(t){this.m_ProgressBar.getComponent("ProgressBar").updateProgress(t)},stopHand:function(){n.Instance.m_Hand.stop()},runTutorial:function(){var t=this;if(cc.log("run tutorial"),n.Instance.m_Hand.isShowing)cc.log("Hint");else{n.Instance.m_Hand.isShowing=!0;for(var e=n.Instance.puzzleController.getComponent("PuzzleController").GetIndexLayer(),o=n.Instance.puzzleController.getComponent("PuzzleController").layers[e].targetObjects,c=void 0,a="",r=0;r<o.length;r++)if(0==o[r].isDoneTarget){c=o[r],a=o[r].node.name,cc.log("Hint: ----------"+a);break}for(var s=n.Instance.puzzleController.getComponent("PuzzleController").GetNameTarget(a),i=null,l=0;l<this.m_ScrollObjectManager.getComponent("ScrollObjectManager").m_ObjectItems.length;l++)if(this.m_ScrollObjectManager.getComponent("ScrollObjectManager").m_ObjectItems[l].active&&this.m_ScrollObjectManager.getComponent("ScrollObjectManager").m_ObjectItems[l].childrenCount>0&&this.m_ScrollObjectManager.getComponent("ScrollObjectManager").m_ObjectItems[l].name==s){i=this.m_ScrollObjectManager.getComponent("ScrollObjectManager").m_ObjectItems[l];break}i?(this.m_ScrollObjectManager.getComponent("ScrollObjectManager").scrollToIndex(i,.5),this.scheduleOnce(function(){var e=i.convertToWorldSpaceAR(cc.v2(0,0));(e=n.Instance.m_Hand.node.parent.convertToNodeSpaceAR(e)).y=t.m_ScrollObjectManager.position.y;var o=c.node.convertToWorldSpaceAR(cc.v2(0,0));cc.log(e+"---"+o),n.Instance.m_Hand.startMove(e,n.Instance.m_Hand.node.parent.convertToNodeSpaceAR(o))},1)):n.Instance.m_Hand.isShowing=!1}},onKeyDown:function(t){switch(t.keyCode){case cc.macro.KEY.r:this.runTutorial();break;case cc.macro.KEY.e:this.stopHand()}}});cc._RF.pop()},{"../GameManager":"GameManager"}],UIObjectItem:[function(t,e){"use strict";cc._RF.push(e,"567b0o+Y1BHBJWVllNjxeGR","UIObjectItem"),cc.Class({extends:cc.Component,properties:{dragObject:cc.Node,m_Sprite:cc.Sprite},start:function(){}}),cc._RF.pop()},{}]},{},["Constants","DragObject","FXShowObject","GameManager","LayerInfo","NodeHelper","PuzzleController","PuzzleInitData","TargetObject2D","HandController","OrientationHelper","ProgressBar","ScrollObjectManager","UIEndGame","UIGameplay","UIObjectItem"]);